{"ast":null,"code":"var _jsxFileName = \"/Users/sarthaksingh/Documents/budgetmaintainer/budget/src/contexts/BudgetsContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useContext, useState } from \"react\";\nimport { v4 as uuidV4 } from \"uuid\";\nimport useLocalStorage from \"../hooks/useLocalStorage\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BudgetsContext = /*#__PURE__*/React.createContext();\nexport const UNCATEGORIZED_BUDGET_ID = \"Uncategorized\";\nexport function useBudgets() {\n  _s();\n  return useContext(BudgetsContext);\n}\n_s(useBudgets, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nexport const BudgetsProvider = ({\n  children\n}) => {\n  _s2();\n  const [budgets, setBudgets] = useLocalStorage(\"budgets\", []);\n  const [expenses, setExpenses] = useLocalStorage(\"expenses\", []);\n  function getBudgetExpenses(budgetId) {\n    return expenses.filter(expense => expense.budgetId === budgetId);\n  }\n  function addExpense({\n    description,\n    amount,\n    budgetId\n  }) {\n    setExpenses(prevExpenses => {\n      return [...prevExpenses, {\n        id: uuidV4(),\n        description,\n        amount,\n        budgetId\n      }];\n    });\n  }\n  function addBudget({\n    name,\n    max\n  }) {\n    setBudgets(prevBudgets => {\n      if (prevBudgets.find(budget => budget.name === name)) {\n        return prevBudgets;\n      }\n      return [...prevBudgets, {\n        id: uuidV4(),\n        name,\n        max\n      }];\n    });\n  }\n  function deleteBudget({\n    id\n  }) {\n    setExpenses(prevExpenses => {\n      return prevExpenses.map(expense => {\n        if (expense.budgetId !== id) return expense;\n        return {\n          ...expense,\n          budgetId: UNCATEGORIZED_BUDGET_ID\n        };\n      });\n    });\n    setBudgets(prevBudgets => {\n      return prevBudgets.filter(budget => budget.id !== id);\n    });\n  }\n  function deleteExpense({\n    id\n  }) {\n    setExpenses(prevExpenses => {\n      return prevExpenses.filter(expense => expense.id !== id);\n    });\n  }\n  return /*#__PURE__*/_jsxDEV(BudgetsContext.Provider, {\n    value: {\n      budgets,\n      expenses,\n      getBudgetExpenses,\n      addExpense,\n      addBudget,\n      deleteBudget,\n      deleteExpense\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n};\n_s2(BudgetsProvider, \"J7E4d7guQZ/gp2cZLJi5v6QwLyA=\", false, function () {\n  return [useLocalStorage, useLocalStorage];\n});\n_c = BudgetsProvider;\nvar _c;\n$RefreshReg$(_c, \"BudgetsProvider\");","map":{"version":3,"names":["React","useContext","useState","v4","uuidV4","useLocalStorage","jsxDEV","_jsxDEV","BudgetsContext","createContext","UNCATEGORIZED_BUDGET_ID","useBudgets","_s","BudgetsProvider","children","_s2","budgets","setBudgets","expenses","setExpenses","getBudgetExpenses","budgetId","filter","expense","addExpense","description","amount","prevExpenses","id","addBudget","name","max","prevBudgets","find","budget","deleteBudget","map","deleteExpense","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/sarthaksingh/Documents/budgetmaintainer/budget/src/contexts/BudgetsContext.js"],"sourcesContent":["import React, { useContext, useState } from \"react\"\nimport { v4 as uuidV4 } from \"uuid\"\nimport useLocalStorage from \"../hooks/useLocalStorage\"\n\nconst BudgetsContext = React.createContext()\n\nexport const UNCATEGORIZED_BUDGET_ID = \"Uncategorized\"\n\nexport function useBudgets() {\n  return useContext(BudgetsContext)\n}\n\nexport const BudgetsProvider = ({ children }) => {\n  const [budgets, setBudgets] = useLocalStorage(\"budgets\", [])\n  const [expenses, setExpenses] = useLocalStorage(\"expenses\", [])\n\n  function getBudgetExpenses(budgetId) {\n    return expenses.filter(expense => expense.budgetId === budgetId)\n  }\n  function addExpense({ description, amount, budgetId }) {\n    setExpenses(prevExpenses => {\n      return [...prevExpenses, { id: uuidV4(), description, amount, budgetId }]\n    })\n  }\n  function addBudget({ name, max }) {\n    setBudgets(prevBudgets => {\n      if (prevBudgets.find(budget => budget.name === name)) {\n        return prevBudgets\n      }\n      return [...prevBudgets, { id: uuidV4(), name, max }]\n    })\n  }\n  function deleteBudget({ id }) {\n    setExpenses(prevExpenses => {\n      return prevExpenses.map(expense => {\n        if (expense.budgetId !== id) return expense\n        return { ...expense, budgetId: UNCATEGORIZED_BUDGET_ID }\n      })\n    })\n\n    setBudgets(prevBudgets => {\n      return prevBudgets.filter(budget => budget.id !== id)\n    })\n  }\n  function deleteExpense({ id }) {\n    setExpenses(prevExpenses => {\n      return prevExpenses.filter(expense => expense.id !== id)\n    })\n  }\n\n  return (\n    <BudgetsContext.Provider\n      value={{\n        budgets,\n        expenses,\n        getBudgetExpenses,\n        addExpense,\n        addBudget,\n        deleteBudget,\n        deleteExpense,\n      }}\n    >\n      {children}\n    </BudgetsContext.Provider>\n  )\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}